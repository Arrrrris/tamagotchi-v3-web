# Tamagotchi Connection V3 家庭图谱记录工具

一个面向 `Tamagotchi Connection V3` 的网页工具，核心目标是：
- 按世代记录你家拓麻的成长路线（幼儿期 -> 老年期）
- 快速查角色、食物、道具资料（含筛选与代码信息）
- 把世代时间线一键导出为 Excel（包含角色图片）

## 在线访问

- GitHub Pages：`https://arrrrris.github.io/tamagotchi-v3-web/`
- 自定义域名：`https://tamagotchi-tools.cc`

## 主要功能

### 1) 家谱图谱记录
- 按“代”连续记录成长阶段：幼儿期、儿童期、青春期、成年期、老年期
- 世代编号与奇偶代自动计算（Odd / Even）
- 幼儿期与老年期角色会按性别自动匹配
- 成年期可单独记录配偶
- 支持删除当前记录、删除某一整代、清空全部记录

### 2) 角色资料库
- 按关键词（中/英）、成长阶段、等级、奇偶代筛选角色
- 查看角色详情：阶段、奇偶限制、等级、喜好食物与备注信息

### 3) 食物资料库
- 按关键词、分类、来源筛选
- 显示食物代码、价格、来源
- 自动关联“喜欢/讨厌该食物”的角色，方便反查

### 4) 道具资料库
- 按关键词、使用类型、可用阶段、来源筛选
- 显示道具代码、价格、特殊规则等信息

### 5) 时间线导出
- 一键下载 `xlsx` 文件
- 导出表格包含各阶段角色和配偶信息
- 支持在 Excel 中嵌入角色图片（网络与图片资源可用时）

## 如何使用

### 快速上手
1. 打开页面后，默认进入“家谱图谱”。
2. 先在第 1 代选择性别。
3. 按阶段选择角色，点击“保存”或“下一阶段”。
4. 成年期可补充配偶，继续推进到老年期。
5. 右侧“世代时间线”会自动累计历史记录。
6. 需要备份时，点击“下载”导出 Excel。

### 数据保存说明
- 记录数据默认保存在浏览器本地（`localStorage`）
- 同一浏览器内刷新页面不会丢失
- 更换设备/清理浏览器缓存后，本地数据不会自动同步
- 建议定期导出 Excel 作为备份

## 本地运行

本项目是纯静态页面，无需构建。

https://tamagotchi-tools.cc

```bash
并不懂编程纯纯vibe出来的屎山，瞎用着吧
- 欢迎反馈 bug、补充资料、提出改进建议
- 页面内“联系我”按钮可查看联系方式
```

## 发布时缓存更新（Cloudflare Pages）

为避免浏览器缓存旧版 JS/CSS，本项目使用统一版本号（查询参数）机制：

- 版本号位置：`index.html` 的 `<meta name="asset-version" content="...">`
- 资源引用方式：`index.html` 会自动给本地 CSS/JS 追加 `?v=版本号`

### 发版步骤（每次都做）

在项目根目录执行：

```bash
./bump-asset-version.sh
git add index.html
git commit -m "chore: bump asset version"
git push
```

可选：手动指定版本号（推荐语义化/可读格式）：

```bash
./bump-asset-version.sh 2026.02.27.2
```

### 版本号规则建议

- 只要影响页面资源（`*.js`、`*.css`、静态文案逻辑）就必须升版
- 同一天多次发布，递增末尾序号（如 `2026.02.27.1` -> `2026.02.27.2`）
- 不要回退版本号，始终单调递增
- 一次发布只使用一个统一版本号